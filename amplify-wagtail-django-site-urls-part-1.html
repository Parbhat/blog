<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
<head>
            <meta charset="utf-8">
        <!-- Site Meta Data -->
        <title>Amplify a Wagtail/Django site - URLs (Part 1)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="First part of the series which list multiple ways to create URLs for AMP pages.">
        <meta name="author" content="Parbhat Puri">

        <link rel="shortcut icon" href="https://parbhatpuri.com/images/favicon.ico">

        <!-- schema.org -->
<meta itemprop="name" content="Parbhat Puri ~ Amplify a Wagtail/Django site - URLs (Part 1)">
<meta itemprop="image" content="https://i.imgur.com/6Fg7V9Y.jpg">
<meta itemprop="description" content="First part of the series which list multiple ways to create URLs for AMP pages.">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <!-- Style Meta Data -->
        <link rel="stylesheet" href="https://parbhatpuri.com/theme/css/style.css" type="text/css"/>
        <link rel="stylesheet" href="https://parbhatpuri.com/theme/css/pygments.css" type="text/css"/>

        <!-- Feed Meta Data -->
            <link href="https://parbhatpuri.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
                  title="Parbhat Puri ATOM Feed"/>

        <!-- Twitter Feed -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@parbhatpuri">

    <meta name="twitter:creator" content="@parbhatpuri">
    <meta name="twitter:url" content="https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html">
    <meta name="twitter:title" content="Parbhat Puri ~ Amplify a Wagtail/Django site - URLs (Part 1)">
    <meta name="twitter:description" content="First part of the series which list multiple ways to create URLs for AMP pages.">
    <meta name="twitter:image" content="https://i.imgur.com/6Fg7V9Y.jpg">
    <meta name="twitter:image:alt" content="Wagtail and AMP logo.">

    <!-- Facebook Meta Data -->
    <meta property="og:url" content="https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Parbhat Puri ~ Amplify a Wagtail/Django site - URLs (Part 1)"/>
    <meta property="og:description" content="First part of the series which list multiple ways to create URLs for AMP pages."/>
    <meta property="og:image" content="https://i.imgur.com/6Fg7V9Y.jpg">
</head>

<body>
<!-- Sidebar -->
<aside>
    <!--<center><a href="https://parbhatpuri.com"><img id="avatar" src=""></a></center>-->
    <h1>Parbhat Puri</h1>
        <p>Software Developer and Founder</p>
    <br>

        <a class="twitter-follow-button"
           href="https://twitter.com/parbhatpuri"
           data-show-count="false"
           data-lang="en">
            Follow @twitterdev
        </a>
        <script type="text/javascript">
            window.twttr = (function (d, s, id) {
                var t, js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s);
                js.id = id;
                js.src = "https://platform.twitter.com/widgets.js";
                fjs.parentNode.insertBefore(js, fjs);
                return window.twttr || (t = {
                        _e: [], ready: function (f) {
                            t._e.push(f)
                        }
                    });
            }(document, "script", "twitter-wjs"));
        </script>

    <nav class="nav">
        <ul class="list-bare">

                <li><a class="nav__link" href="https://parbhatpuri.com">Blog</a></li>
                <li><a class="nav__link" href="https://parbhatpuri.com/pages/about.html">About</a></li>
                <li><a class="nav__link" href="https://parbhatpuri.com/parbhat_resume.pdf">Resume</a></li>


        </ul>
    </nav>

    <p class="social">
                <a href="https://www.linkedin.com/in/parbhat" target="_blank"><img
                        src="https://parbhatpuri.com/theme/images/icons/linkedin.png"></a>
                <a href="https://github.com/parbhat" target="_blank"><img
                        src="https://parbhatpuri.com/theme/images/icons/github.png"></a>
                <a href="https://twitter.com/parbhatpuri" target="_blank"><img
                        src="https://parbhatpuri.com/theme/images/icons/twitter.png"></a>
            <a href="https://parbhatpuri.com/feeds/all.atom.xml" rel="alternate">
                <img src="https://parbhatpuri.com/theme/images/icons/rss.png"></a>
    </p>



</aside>

<!-- Content -->
<article>
    <section id="content">
        <article>
            <h2 class="post_title post_detail"><a href="https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html" rel="bookmark"
                                                  title="Permalink to Amplify a Wagtail/Django site - URLs (Part 1)">Amplify a Wagtail/Django site - URLs (Part 1)</a></h2>
            <div class="entry-content blog-post">
                <p>Accelerated Mobile Pages (AMP) is an Open Source project with a focus on creating a fast and smooth experience for website users. AMP version of a page also shows at the top of Google search results for mobile users. AMP is must for every content site these days. If you already have a running website, AMP is just another version of an existing page on the site. AMP version loads fast due to AMP spec like max CSS size can be 50KB only. You can read more about AMP on its <a href="https://www.ampproject.org/">site</a>.</p>
<p>This blog post is the first part of the series: Amplify a Wagtail/Django site.</p>
<ul>
<li><strong>Part 1: Amplify a Wagtail/Django site - URLs (current article)</strong></li>
<li>Part 2: <a href="https://parbhatpuri.com/amplify-wagtail-django-site-validation-part-2">Amplify a Wagtail/Django site - Validation</a></li>
<li>Part 3: Amplify a Wagtail/Django site - CORS</li>
</ul>
<p><img src="https://i.imgur.com/6Fg7V9Y.jpg" alt="Wagtail and AMP logo." width="550px"/></p>
<p>Wagtail is a beautiful CMS built on top of the Django web framework. This blog series will list the steps to create an AMP version of your existing Wagtail pages. A demo project is available on <a href="https://github.com/Parbhat/wagtail-amp">Github</a>.</p>
<h2>URL of the AMP version of page</h2>
<p>As AMP is just another version of an existing page, it will have a new URL. Commonly <em>amp</em> keyword is added to the normal page URL. Suppose we want to Amplify a page like <a href="https://wagtail.io/blog/graphql-with-streamfield/">https://wagtail.io/blog/graphql-with-streamfield/</a>. AMP version of this page can have the following URLs:</p>
<ul>
<li>https://wagtail.io/blog/graphql-with-streamfield/<strong>amp/</strong></li>
<li>https://wagtail.io/<strong>amp/</strong>blog/graphql-with-streamfield/</li>
</ul>
<p>The first URL is easy to create in Wagtail. But the second URL needs some customization in the Wagtail serving mechanism. This blog post will list the steps to use any of these URLs in your project.</p>
<h3>URL 1: AMP keyword at end of Normal URL</h3>
<p>Wagtail comes with a contrib app called <a href="http://docs.wagtail.io/en/v2.1.1/reference/contrib/routablepage.html">RoutablePageMixin</a>. The RoutablePageMixin extend a page to respond on multiple sub URLs with different views.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BlogPage</span><span class="p">(</span><span class="n">RoutablePageMixin</span><span class="p">,</span> <span class="n">Page</span><span class="p">):</span>
    <span class="c1"># Complete code: https://github.com/Parbhat/wagtail-amp/blob/master/blog/models.py#L47</span>
    <span class="c1"># ...</span>
    <span class="c1"># ...</span>

    <span class="nd">@route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^amp/$&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">amp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">TemplateResponse</span><span class="p">(</span>
            <span class="n">request</span><span class="p">,</span> <span class="s1">&#39;blog/blog_page_amp.html&#39;</span><span class="p">,</span> <span class="n">context</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="c1"># ...</span>
</code></pre></div>


<p>In the above example, we get the Blog Page object context and use it in the AMP template of a blog page. So, if a blog page has a URL <a href="https://wagtail.io/blog/wagtail-space-usa/">https://wagtail.io/blog/wagtail-space-usa/</a>. AMP version will exist at https://wagtail.io/blog/wagtail-space-usa/<strong>amp/</strong></p>
<h4>Template requirements</h4>
<p>Normal page template (<a href="https://github.com/Parbhat/wagtail-amp/blob/master/blog/templates/blog/blog_page.html#L8">blog_page.html</a>) should include this Meta tag. It helps Google know the location of AMP version of this page.</p>
<div class="highlight"><pre><span></span><code>{% load wagtailroutablepage_tags %}

<span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;amphtml&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ request.site.root_url }}{% routablepageurl page &#39;amp&#39; %}&quot;</span> <span class="p">/&gt;</span>
</code></pre></div>


<p>AMP template (<a href="https://github.com/Parbhat/wagtail-amp/blob/master/blog/templates/blog/blog_page_amp.html#L5">blog_page_amp.html</a>) should include</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;canonical&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ page.full_url }}&quot;</span><span class="p">/&gt;</span>
</code></pre></div>


<h3>URL 2: AMP keyword after site root URL</h3>
<p>Using the first approach is sufficient in most cases. In some custom Django projects, this approach will be useful if the non Wagtail powered AMP pages also use amp keyword after root URL. So, we need to maintain consistency in the URL pattern of Wagtail powered and other URLs. We have to customize the Wagtail serving mechanism. First, we will understand the Wagtail serving mechanism and then work on the customization.</p>
<h4>Wagtail Serving mechanism:</h4>
<ol>
<li>
<p>When a request is made, it is passed to Wagtail <a href="https://github.com/wagtail/wagtail/blob/stable/2.1.x/wagtail/core/views.py#L10">serve</a> view.</p>
</li>
<li>
<p>Serve view creates path components list for the requested path. For example, if a request is made for URL <a href="https://wagtail.io/blog/graphql-with-streamfield/">https://wagtail.io/blog/graphql-with-streamfield/</a>. Path components list will be</p>
<div class="highlight"><pre><span></span><code><span class="n">path_components</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="s1">&#39;graphql-with-streamfield&#39;</span><span class="p">]</span>
</code></pre></div>


</li>
<li>
<p>Then current site's root page <a href="https://github.com/wagtail/wagtail/blob/stable/2.1.x/wagtail/core/models.py#L600">route</a> method is called with <em>path_components</em>. In demo project, root page is <a href="https://github.com/Parbhat/wagtail-amp/blob/master/home/models.py#L9">home.HomePage</a>.</p>
</li>
<li>
<p>Wagtail checks the page existence by slug one by one from the <em>path_components</em> list. For example, it first checks the root page (HomePage) has a child with <em>slug: blog</em>. If a page is found, the <em>route</em> method of the blog index page is called with remaining path components. In case a page is not found with a slug, 404 error is raised.</p>
</li>
<li>
<p>The process continues and takes a slug from the <em>path_components</em> list until it becomes empty. And if a page is live it is returned to serve view.</p>
</li>
<li>
<p>In serve view, the serve method of the page object is called.</p>
</li>
</ol>
<p>Wagtail docs also have a great explanation on <a href="http://docs.wagtail.io/en/v2.1.1/reference/pages/theory.html#anatomy-of-a-wagtail-request">Anatomy of a Wagtail Request</a>.</p>
<h4>Changes in the Serving mechanism for AMP</h4>
<p>As the AMP version of Wagtail page should be served from https://wagtail.io/amp/<strong>*</strong>, some changes are required in above workflow:</p>
<ol>
<li>
<p>As the HomePage <em>route</em> method is first called. We can have a flag (<em>is_amp_request</em>) which helps to determine the request is for the AMP page. If the first item in the <em>path_components</em> list is <em>amp</em>, we set the Flag on and reduce the list to <em>path_components[1:]</em>. So, we can check page with remaining path components exists. For example, if the request is made for <strong>https://wagtail.io/amp/blog/graphql-with-streamfield/</strong></p>
<p>Wagtail creates path components list in serve view.</p>
<div class="highlight"><pre><span></span><code><span class="n">path_components</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;amp&#39;</span><span class="p">,</span> <span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="s1">&#39;graphql-with-streamfield&#39;</span><span class="p">]</span>
</code></pre></div>


<p>In HomePage <a href="https://github.com/Parbhat/wagtail-amp/blob/master/home/models.py#L18">route</a> method, it is changed to</p>
<div class="highlight"><pre><span></span><code><span class="n">path_components</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="s1">&#39;graphql-with-streamfield&#39;</span><span class="p">]</span>
</code></pre></div>


<p>Overriding route method</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HomePage</span><span class="p">(</span><span class="n">Page</span><span class="p">):</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">RichTextField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">route</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">path_components</span><span class="p">):</span>
        <span class="c1"># Check the request is for AMP page</span>
        <span class="n">is_amp_request</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">path_components</span> <span class="ow">and</span> <span class="n">path_components</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;amp&#39;</span><span class="p">:</span>
            <span class="n">is_amp_request</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># Remove the amp from path components to check if the page exist</span>
            <span class="n">path_components</span> <span class="o">=</span> <span class="n">path_components</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="n">page</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">HomePage</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">route</span><span class="p">(</span>
            <span class="n">request</span><span class="p">,</span> <span class="n">path_components</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">is_amp_request</span><span class="p">:</span>
            <span class="c1"># If the page has amp template serve it otherwise raise 404</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="s1">&#39;get_template_amp&#39;</span><span class="p">):</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;is_amp_request&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">is_amp_request</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">Http404</span>

        <span class="k">return</span> <span class="n">page</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span>

    <span class="n">content_panels</span> <span class="o">=</span> <span class="n">Page</span><span class="o">.</span><span class="n">content_panels</span> <span class="o">+</span> <span class="p">[</span>
        <span class="n">FieldPanel</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="n">classname</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="n">parent_page_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wagtailcore.Page&#39;</span><span class="p">]</span>
</code></pre></div>


<ul>
<li>
<p>If the page exists in Wagtail with the remaining <em>path_components</em>, we check the page has an AMP version by method <em>get_template_amp</em>. If no, we raise 404 error as the AMP version for the page not exists. If yes, we add a kwarg argument <em>kwargs['is_amp_request'] = is_amp_request</em>.</p>
</li>
<li>
<p>The page object, args and kwargs are returned to Wagtail Serve view from the root page's route method.</p>
</li>
</ul>
</li>
<li>
<p>In Wagtail serve view, page's <em>serve</em> method is called with <em>args, kwargs</em>. In the case of a blog page, we customised the Serve method to handle AMP requests. Using the kwarg argument <em>is_amp_request</em>, we return the AMP version of the blog page.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AmpBlogPage</span><span class="p">(</span><span class="n">Page</span><span class="p">):</span>
    <span class="c1"># Complete code: https://github.com/Parbhat/wagtail-amp/blob/master/blog/models.py#L85</span>
    <span class="c1"># ...</span>
    <span class="c1"># ...</span>

    <span class="k">def</span> <span class="nf">get_template_amp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;blog/amp_blog_page_amp.html&#39;</span>

    <span class="k">def</span> <span class="nf">serve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">is_amp_request</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;is_amp_request&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_amp_request</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;is_amp_request&#39;</span><span class="p">)</span>
            <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">TemplateResponse</span><span class="p">(</span>
                <span class="n">request</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_template_amp</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
                <span class="n">context</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">AmpBlogPage</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># ...</span>
</code></pre></div>


</li>
</ol>
<h2>What's Next</h2>
<p>Part 1 of this series list two options to choose a URL for AMP version. The focus of next parts in the series will be</p>
<ul>
<li>
<p><a href="https://parbhatpuri.com/amplify-wagtail-django-site-validation-part-2">Part 2 on Validation</a>: AMP spec has some restriction on the elements like <em>img</em> tag. AMP page should pass Validation to get served from Google AMP cache. In the next part, we will work on creating Valid Wagtail powered AMP pages.</p>
</li>
<li>
<p><strong>Part 3 on CORS</strong>: When using AMP components like <a href="https://ampbyexample.com/components/amp-list/">amp-list</a>, the server should include CORS headers in the response. It is not specific to Wagtail and applies to any Django project.</p>
</li>
</ul>
<p>You can also follow the Github <a href="https://github.com/Parbhat/wagtail-amp">repo</a>. AMP-lify!</p>
            </div>
            <div class="post_list">
                <span>By </span>
                <a href="https://parbhatpuri.com/author/parbhat-puri.html">@Parbhat Puri</a>
                <span> in </span>
                <span class="post_category"><a href="https://parbhatpuri.com/category/python.html" rel="bookmark"
                                               title="Permalink to python">[ python ]</a></span>
                <span class="post_date">Fri 20 July 2018</span>
                <div><span>Tags : </span>
                            <span><a href="https://parbhatpuri.com/tag/wagtail.html">#wagtail, </a></span>
                            <span><a href="https://parbhatpuri.com/tag/django.html">#django, </a></span>
                            <span><a href="https://parbhatpuri.com/tag/opensource.html">#opensource, </a></span>
                            <span><a href="https://parbhatpuri.com/tag/web.html">#web, </a></span>
                            <span><a href="https://parbhatpuri.com/tag/programming.html">#Programming, </a></span>
                            <span><a href="https://parbhatpuri.com/tag/code.html">#code, </a></span>
                </div>

                <div class="entry-social">
                    <span class="twitter"><a target="_blank" rel="nofollow"
                                             onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;"
                                             title="Twitter"
                                             href="https://twitter.com/share?url=https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html&text=Amplify a Wagtail/Django site - URLs (Part 1)&via=parbhatpuri"><img
                            src="https://parbhatpuri.com/theme/images/icons/twitter-s.png"></a></span>

                    <span class="gplus"><a target="_blank" title="Google +"
                                           href="https://plus.google.com/share?url=https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html&hl=fr"
                                           rel="nofollow"
                                           onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://parbhatpuri.com/theme/images/icons/google-s.png"></a></span>

                    <span class="facebook"><a target="_blank" title="Facebook" rel="nofollow"
                                              onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;"
                                              href="https://www.facebook.com/sharer.php?u=https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html&t=Amplify a Wagtail/Django site - URLs (Part 1)"><img
                            src="https://parbhatpuri.com/theme/images/icons/facebook-s.png"></a></span>

                    <a target="_blank" title="Linkedin"
                       href="https://www.linkedin.com/shareArticle?mini=true&url=https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html&title=Amplify a Wagtail/Django site - URLs (Part 1)"
                       rel="nofollow"
                       onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img
                            src="https://parbhatpuri.com/theme/images/icons/linkedin-s.png"></a>

                    <span class="mail"><a
                            href="mailto:?subject=Amplify a Wagtail/Django site - URLs (Part 1)&amp;body=Viens découvrir un article à propos de [Amplify a Wagtail/Django site - URLs (Part 1)] sur le site de Parbhat Puri. https://parbhatpuri.com/amplify-wagtail-django-site-urls-part-1.html"
                            title="Share by Email" target="_blank"><img
                            src="https://parbhatpuri.com/theme/images/icons/mail-s.png"></a></span>
                </div>
            </div>
                <div class="comments">
                    <h2>Comments !</h2>
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "amplify-wagtail-django-site-urls-part-1.html";
                        (function () {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'https://parbhat.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] ||
                            document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                </div>
        </article>
    </section>
</article>

<!-- Footer -->
    <footer>
        <p>
            Blog powered by <a href="http://getpelican.com/">Pelican</a>,
            which takes great advantage of <a href="http://python.org">Python</a>.
            Theme <a href="https://github.com/parbhat/pelican-blue">Pelican-Blue</a> by <a
                href="https://parbhatpuri.com/">@parbhat</a>.
        </p>
    </footer>

    <!-- Analytics -->
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-50405008-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>